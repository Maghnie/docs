---
description: Overview of data available on aedifion.io
---

# Data

## Overview

The aedifion.io platform is all about collecting, storing, processing, and visualizing _data_ with the goal to optimize the operation of buildings, plants, or even whole districts w.r.t. their primary energy consumption.    To this end, aedifion continuously collects fine-grained time series and meta data directly from the building automation technology in the targeted plants, buildings, and districts. This primary, _native_ dataset is complemented by further useful data from third party sources such as weather predictions or room occupancy. 

In this article, we first lay out the [data model](data.md#data-model) of the aedifion.io platform, then provide an overview of the [native](data.md#native-data) and [third party data](data.md#third-party-data) it provides.

## Data model

All data on aedifion.io is separated into two categories: time series data and meta data. In the following, we briefly explain how these two types of data are structured.

### Time series data

Time series data refers to all data that continuously changes over time. This applies, e.g., to real measurements collected from sensors and actors in the field, but also to stream aggregation functions that generate continuous outputs.

The set of time series data is structured into many single time series, where each time series is related to a single physical or virtual datapoint.

{% code-tabs %}
{% code-tabs-item title="Time series dataset example" %}
```javascript
HeadQuarters
  -> Office01_RoomTemperature
  -> Office01_CO2  
  -> Office02_RoomTemperature
  -> ...
  -> Office10_RoomTemperature  
  -> Office10_CO2
  -> Offices_RoomTemperature_average
  -> Offices_CO2_average
```
{% endcode-tabs-item %}
{% endcode-tabs %}

In the above example, we have the time series data set for the building _Headquarters_, that consists of 22 individual time series. The first twenty of those, `Office01_RoomTemperature` to `Office10_CO2` correspond to physical sensors while the last two, `Offices_RoomTemperature_average` and `Offices_CO2_average`, correspond to virtual datapoints that are generated by computing the average over the other sensors.

A single time series has a name and a list of observations, i.e., \(time, value\) tuples, with an optional set of tags per observation.

{% code-tabs %}
{% code-tabs-item title="Time series example" %}
```
Name: Office10_RoomTemperature
Time                 | Value | Tags
---------------------+-------------------------
2019-02-06T12:00:00Z |  20.1 | 
2019-02-06T12:01:30Z |  20.3 |  
2019-02-06T12:03:00Z |  20.2 | 
2019-02-06T12:04:30Z |  20.5 | maintenance=True
2019-02-06T12:06:00Z |  20.8 | maintenance=True
2019-02-06T12:07:30Z |  21.1 | maintenance=True
...
2019-02-06T23:30:00Z |   0.0 | outOfService=True
2019-02-06T23:30:00Z |   0.0 | outOfService=True
```
{% endcode-tabs-item %}
{% endcode-tabs %}

In the above example, the sensor `Office10_RoomTemperature` is read every 1,5 minutes. The time-dependent tags mark a maintenance period and when the sensor reported an error.

### Meta data

Meta data refers to all data that remains largely unchanged over time such as units and descriptions of datapoints, but also user-generated meta-data such as favorites, renamings, or custom plot views.

Most meta data is stored within tags that can then be freely assigned to projects, devices, or datapoints. The main ingredients of a single tag are a short \(string\) key and an arbitrarily long \(string\) value. A tag can be as short and simple as `'unit'='°C'` or as long and complex as a JSON-encoded configuration of a custom plotview, e.g.,

```javascript
'plotView':'{"chart":{"type":"line","datapoints":[{"plotPosition":"0","dataPointID":"bacnet100-4120-CO2","project_id":"4","interpolation":"zero-order-hold","marker":"","dashstyle":"solid"},{"plotPosition":"1","dataPointID":"bacnet100-4120-Humidity-HUM","project_id":"4","interpolation":"zero-order-hold","marker":"","dashstyle":"solid"},{"plotPosition":"2","dataPointID":"bacnet100-4120-Window-Closed-WIN","project_id":"4","interpolation":"zero-order-hold","marker":"","dashstyle":"solid"},{"plotPosition":"3","dataPointID":"bacnet100-4120-Ambient-air-temperature-T_Amb","project_id":"4","interpolation":"zero-order-hold","marker":"","dashstyle":"solid"}]}}'
```

Tags allow filtering through projects, devices, and datapoints using a range of high-level criteria, e.g., _"show me all CO2 sensors"_, or _"filter out every datapoint that has a fault"_. And, tags can be used to specify access control policies, e.g., _"user A gets access to all datapoints that correspond to temperature sensors"._ 

## Native data

Native data refers to all time series and meta data that is directly collected or generated by aedifion and does not come from third party sources.

### Data from building automation

Most of the native data is collected automatically from your building automation network by the [aedifion edge device](gateway.md). This includes time series data for all discovered datapoints as well as meta data for all discovered devices and datapoints.

#### Time series

A typical non-residential building has between 1000 and 15 000 datapoints that can be automatically discovered and logged by the aedifion edge device. This typically includes, among many others, the following types of data:

* Room temperatures
* CO2 concentrations
* Setpoints and schedules
* Alarm states
* ...

_Want to see in detail which datapoints are discovered?_ The following is a complete list of datapoints that the aedifion edge device has discovered in the main building of the EON ERC.

{% file src="../.gitbook/assets/eonerc-datapoints.csv" caption="Datapoints in EON ERC" %}

#### Meta data

Most building automation networks such as BACnet provide a set of meta data that can be automatically collected. This meta data is logged daily and ingested into the aedifion.io platform where it is stored as tags on devices and datapoints.

The following example shows the set of meta data tags that have been automatically collected from a real BACnet datapoint. As we can see, this already contains a lot of useful information, such as min and max values, units, and error flags.

{% code-tabs %}
{% code-tabs-item title="Tags of a real datapoint" %}
```javascript
Key               | Value
------------------+--------------------------------------
bacnet_id         | 514
description       | 'Ventil Kühler Besprechung-3'
deviceType        | 'AO OUT9'
minPresValue      | 0.0
maxPresValue      | 100.0
objinstance       | 3000563
objtype           | 'analogOutput'
outOfService      | 'False'
priorityArray     | ['null', 'null', ..., 'null', 100.0]
reliability       | 'noFaultDetected'
resolution        | 1.0
relinquishDefault | 0.0
statusFlags       | [0, 0, 0, 0]
units             | 'percent'
```
{% endcode-tabs-item %}
{% endcode-tabs %}

### Virtual datapoints

**TODO ERIK / JOHANNES**

### AI-generated meta data

Aedifion uses state-of-the-art machine learning and AI techniques to augment the already provided data. From the already given time series and metadata it predicts additional sets of tags \(e.g. the type of the data point\). The AI system is expanded upon perpetually to further improve the quality of the tag annotations.

## Third party data

### Microsoft Exchange

On request, data from Microsoft Exchange can be integrated into the aedifion.io platform. This currently includes only the booking status of rooms that are available as a resource in Microsoft Exchange. Booking status is made available for the past and future as a boolean time series on aedifion.io.

![Visualization of the temperature, CO2 concentration and booking status of a meeting room.](../.gitbook/assets/data_exchange.png)

### Weather data

In this section, we explain the basic concept of weather data integration. In case your use-case is not covered by the weather data services provided, do not hesitate to [contact ](https://docs.aedifion.io/docs/contact)us.

We are using the services of [the Dark Sky Company, LLC](https://darksky.net/) for weather data integration.

#### Meteorological conditions

This list provides the meteorological conditions which can be integrated by default:

<table>
  <thead>
    <tr>
      <th style="text-align:left">​Meteorological condition</th>
      <th style="text-align:left">Name</th>
      <th style="text-align:left">
        <p>Unit /</p>
        <p>Value set</p>
      </th>
      <th style="text-align:left">Info</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align:left">Apperent ("feels like") temperature</td>
      <td style="text-align:left">apparentTemperature</td>
      <td style="text-align:left">°C</td>
      <td style="text-align:left">Human felt temperature, determined by air temperature, wind speed, and
        humidity.</td>
    </tr>
    <tr>
      <td style="text-align:left">Cloud coverage ratio</td>
      <td style="text-align:left">cloudCover</td>
      <td style="text-align:left">[0, 1]</td>
      <td style="text-align:left">Ratio of sky occluded by clouds.</td>
    </tr>
    <tr>
      <td style="text-align:left">Dew point</td>
      <td style="text-align:left">dewpoint</td>
      <td style="text-align:left">°C</td>
      <td style="text-align:left">Ambient steam saturation temperature.</td>
    </tr>
    <tr>
      <td style="text-align:left">Relative humidity</td>
      <td style="text-align:left">humidity</td>
      <td style="text-align:left">[0, 1]</td>
      <td style="text-align:left">Ambient ratio of steam saturation.</td>
    </tr>
    <tr>
      <td style="text-align:left">Quantity of ozone</td>
      <td style="text-align:left">ozone</td>
      <td style="text-align:left">DU</td>
      <td style="text-align:left">Quantity of ozone substance over an area unit in Dobson Unit.</td>
    </tr>
    <tr>
      <td style="text-align:left">Precipitation intensity</td>
      <td style="text-align:left">precipIntensity</td>
      <td style="text-align:left">mm/h</td>
      <td style="text-align:left">Amount of precipitation per time unit.</td>
    </tr>
    <tr>
      <td style="text-align:left">Precipitation probability</td>
      <td style="text-align:left">precipProbability</td>
      <td style="text-align:left">[0, 1]</td>
      <td style="text-align:left">Precipitation probability based on historical meteorological conditions.</td>
    </tr>
    <tr>
      <td style="text-align:left">Sea level air pressure</td>
      <td style="text-align:left">pressure</td>
      <td style="text-align:left">hPA</td>
      <td style="text-align:left">Air pressure, measured at the height of the weather station, reduced to
        sea level.</td>
    </tr>
    <tr>
      <td style="text-align:left">Temperature</td>
      <td style="text-align:left">temperature</td>
      <td style="text-align:left">°C</td>
      <td style="text-align:left">Ambient air temperature.</td>
    </tr>
    <tr>
      <td style="text-align:left">UV index</td>
      <td style="text-align:left">uvIndex</td>
      <td style="text-align:left">-</td>
      <td style="text-align:left">Defined by WMO, WTO, and ICNIRP commision.</td>
    </tr>
    <tr>
      <td style="text-align:left">Average visibility</td>
      <td style="text-align:left">visibility</td>
      <td style="text-align:left">km</td>
      <td style="text-align:left">Measurement of the transparency of ambient air.</td>
    </tr>
    <tr>
      <td style="text-align:left">Wind direction</td>
      <td style="text-align:left">windBearing</td>
      <td style="text-align:left">° [0,360]</td>
      <td style="text-align:left">Direction <b>from</b> which the wind is coming. 0° at true north, clockwise.
        Not defined for wind speed = 0.</td>
    </tr>
    <tr>
      <td style="text-align:left">Wind gust speed</td>
      <td style="text-align:left">windGust</td>
      <td style="text-align:left">m/s</td>
      <td style="text-align:left">Maximum gust speed.</td>
    </tr>
    <tr>
      <td style="text-align:left">Wind speed</td>
      <td style="text-align:left">windSpeed</td>
      <td style="text-align:left">m/s</td>
      <td style="text-align:left">Horizontal wind speed.</td>
    </tr>
  </tbody>
</table>We store every meteorological condition as a separate datapoint on the aedifion.io platform to historicize its state. More on this in the subchapter [Datapoint and observation convention](integrations.md#datapoint-and-observation-convention).

#### Prediction horizons

Besides the current state of a meteorological condition some use-cases require prediction data. We offer hourly predictions up to 168 hours \(7 days\) in the future and update them every hour. On ordering you can flexibly choose which horizons you need. The predicted states are aligned to the top of the prediction’s timestamp.

We combine every prediction horizon with the meteorological state monitored to create unique datapoints. You can use the unique datapoints to address the historicized meteorological conditions and their predications on the platform. More on this in the subchapter [Datapoint and observation convention](integrations.md#datapoint-and-observation-convention).

#### Datapoint and observation convention

Like any other datapoint on the aedifion.io platform the weather datapoints are identifiable by an alphanumeric identifier which is unique for each project. The timeseries data for particular weather datapoints is stored as observations with a tuple of _value_ and _timestamp_.

 The naming convention for weather datapoints is: 

_aedifion\_weather-&lt;name of meteorological condition&gt;\_&lt;preiction horizon&gt;_

How we handle predictions: Every predication exists of a predicted value and the timestamp in the future the predication is made for. This timestamp is equal to the prediction horizon. We hold on to this _prediction value_ and _prediction horizon_ combination to make predictions accessible on aedifion.io. It’s easier to explain in an example:

{% hint style="info" %}
Imagine the following setup:

* The project _aedifion office_ wants to use temperature and _dewpoint_ conditions.
* This data is needed for a prediction horizon of _1h_ and _3h_ in the future.
* The current date time is 2020-02-20 22:00:00.

Now, how would the datapoint string-id for _temperature_ with _1h_ prediction be, and which timestamps will be used for the most recent predictions of the dewpoint datapoints at the current date time?

* The datapoint string-id for temperature with 1h prediction horizon will be _aedifion\_weather-temperature\_1h_ .
* For datapoint _aedifion\_weather- dewpoint \_1h_: 2020-02-20 23:00:00
* For datapoint _aedifion\_weather- dewpoint \_3h_: 2020-02-21 01:00:00
{% endhint %}

